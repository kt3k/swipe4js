this.mainloop=this.exports=function(n){"use strict";var e=function(){},t=function(){return+new Date},r=!1,o={run:function(){return r||(r=!0,g()),this},stop:function(){return null!=a&&(n.clearInterval(a),a=null),r=!1,this},reset:function(){E({count:0,frameFunc:e,fpt:f}),m(),this.stop()},isRunning:function(){return r}},u=null,i=e,a=null,s=0,f=30,c=1e3/f,p=[0,0,0,0,0,0,0,0,0,0],d=0,l=0,g=function(){d=t(),p.shift(),p.push(d-l),l=d,i(s++),r&&(a=n.setTimeout(g,c-(d-t())))},h=function(n){"function"==typeof n&&(i=n)},v=function(e){"function"==typeof e&&(m(),u=n.setInterval(function(){for(var n=0,t=0,r=p.length;r>n;n++)t+=p[n];e(Math.round(1e3*r/t),p,s)},100))},m=function(){null!=u&&(n.clearInterval(u),u=null)},E=function(n){return n||(n={}),s=n.count instanceof Number?n.count:s,f=n.fps||f,c=1e3/f,d=t(),l=d-f,h(n.frameFunc),v(n.frameMonitor),o};return E.removeFrameMonitor=m,Object.keys(o).forEach(function(n){E[n]=function(){o[n]()}}),E}(this),this.swipe4=this.exports=function(n){"use strict";var e={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},r={NONE:0,TOUCHING:1,END:2,CANCEL:3},o=function(){},u=function(n){return"function"==typeof n?n:o},i=null,a=null,s=0,f=null,c=null,p=function(){var n=f.pageX-c.pageX,e=f.pageY-c.pageY;return Math.max(Math.abs(n),Math.abs(e))},d=function(){var n=Math.atan2(f.pageY-c.pageY,f.pageX-c.pageX);return(Math.floor(180*n/Math.PI)+360)%360},l=function(){var n=d();return 45>n||n>=315?e.RIGHT:n>=45&&135>n?e.DOWN:n>=135&&225>n?e.LEFT:e.UP},g=function(){var n=i.ctx.dist=p();if(t.THRESHOLD>n)return i.ctx.swiped=!1,i.end.neutral(),void 0;i.ctx.swiped=!0;var r=i.ctx.dir=l();r===e.UP?i.end.up():r===e.RIGHT?i.end.right():r===e.DOWN?i.end.down():r===e.LEFT&&i.end.left()},h=function(n){if(0===n%10){var r=i.ctx.dist=p();if(t.THRESHOLD>r)return i.progress.neutral(),void 0;var o=i.ctx.dir=l();o===e.UP?i.progress.up():o===e.RIGHT?i.progress.right():o===e.DOWN?i.progress.down():o===e.LEFT&&i.progress.left()}},v=function(n){c={pageX:n.pageX,pageY:n.pageY},f=n,a=r.TOUCHING,s=1},m=function(n){f=n},E=function(){a=r.END},N=function(){a=r.CANCEL},H=function(){a=r.NONE,f={pageX:0,pageY:0},s=0},D=function(e){n.document.documentElement.hasOwnProperty("ontouchstart")?(e.addEventListener("touchstart",function(n){n.preventDefault(),1===n.touches.length?v(n.touches[0]):N()}),e.addEventListener("touchmove",function(n){n.preventDefault(),1===s?m(n.touches[0]):N()}),e.addEventListener("touchend",function(n){n.preventDefault(),1===s?E():N()}),e.addEventListener("touchcancel",function(n){n.preventDefault(),N()})):(e.addEventListener("mousedown",function(n){n.preventDefault(),v(n)}),e.addEventListener("mousemove",function(n){n.preventDefault(),m(n)}),e.addEventListener("mouseup",function(n){n.preventDefault(),E()}))},L=function(n){a!==r.NONE&&(a===r.TOUCHING?(h(n),i.frameFunc(f)):a===r.END?(i.end.preHook(),g(),H(),i.frameFunc(f),i.end.postHook(i.ctx),H(),i.frameFunc(f)):a===r.CANCEL&&(H(),i.frameFunc(f)))},O=function(e){e.ctx={dir:null,dist:null,swiped:!1},e.init||(e.init={}),"function"==typeof e.init&&(e.init.func=e.init),e.init.func=u(e.init.func),e.init.fps||(e.init.fps=30),e.target||(e.target=n.document.body),a=null!=e.init.phase?e.init.phase:r.NONE,e.frameFunc=u(e.frameFunc),e.frameMonitor=u(e.frameMonitor),e.end||(e.end={}),e.end.neutral=u(e.end.neutral),e.end.up=u(e.end.up),e.end.down=u(e.end.down),e.end.left=u(e.end.left),e.end.right=u(e.end.right),e.end.preHook=u(e.end.preHook),e.end.postHook=u(e.end.postHook),e.progress||(e.progress={}),e.progress.neutral=u(e.progress.neutral),e.progress.up=u(e.progress.up),e.progress.down=u(e.progress.down),e.progress.left=u(e.progress.left),e.progress.right=u(e.progress.right)},T=function(e){return e||(e={}),i=e,O(i),D(i.target),i.init.func(),H(),i.frameFunc(f),i.mainloop=n.mainloop({fps:i.init.fps,frameFunc:L,frameMonitor:i.frameMonitor}).run(),i.mainloop};return T.PHASE=r,T.DIRECTION=e,T.SWIPE=t,T}(this);