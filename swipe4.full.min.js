this.mainloop=this.exports=function(){var n=function(){},e=function(e){var t="number"==typeof e.count?e.count:0,r=e.fps||30,o=1e3/r,i=!1,u=[r,r,r,r,r,r,r,r,r,r],a=(new Date).getTime(),s=a-r,f="function"==typeof e.frameFunc?e.frameFunc:n,p="function"==typeof e.frameMonitor?e.frameMonitor:n,c=function(){a=(new Date).getTime(),u.shift(),u.push(a-s),s=a,f(t++),i&&setTimeout(c,o-(a-(new Date).getTime()))};return setInterval(function(){for(var n=0,e=0,t=u.length;t>n;n++)e+=u[n];p(Math.round(1e3*t/e))},100),{run:function(){return i||(i=!0,c()),this},stop:function(){return i=!1,this}}};return e}(),this.swipe4=this.exports=function(){var n={UP:0,DOWN:1,RIGHT:2,LEFT:3},e={THRESHOLD:3},t={NONE:0,TOUCHING:1,END:2,CANCEL:3},r=null,o=null,i=0,u=null,a=null,s=function(){},f=function(n){return"function"==typeof n?n:s},p=function(){var n=u.pageX-a.pageX,e=u.pageY-a.pageY;return Math.max(Math.abs(n),Math.abs(e))},c=function(){var n=Math.atan2(u.pageY-a.pageY,u.pageX-a.pageX);return(Math.floor(180*n/Math.PI)+360)%360},d=function(){var e=c();return 45>e||e>=315?n.RIGHT:e>=45&&135>e?n.DOWN:e>=135&&225>e?n.LEFT:n.UP},l=function(){var t=r.ctx.dist=p();if(e.THRESHOLD>t)return r.ctx.swiped=!1,r.end.neutral(),void 0;r.ctx.swiped=!0;var o=r.ctx.dir=d();o===n.UP?r.end.up():o===n.RIGHT?r.end.right():o===n.DOWN?r.end.down():o===n.LEFT&&r.end.left()},g=function(t){if(0===t%10){var o=r.ctx.dist=p();if(e.THRESHOLD>o)return r.progress.neutral(),void 0;var i=r.ctx.dir=d();i===n.UP?r.progress.up():i===n.RIGHT?r.progress.right():i===n.DOWN?r.progress.down():i===n.LEFT&&r.progress.left()}},h=function(n){a={pageX:n.pageX,pageY:n.pageY,layerX:n.layerX,layerY:n.layerY},u=n,o=t.TOUCHING,count=0,i=1},m=function(n){u=n},E=function(){o=t.END},v=function(){o=t.CANCEL},N=function(){o=t.NONE,u={pageX:0,pageY:0,layerX:0,layerY:0},i=0},H=function(n){window.document.documentElement.hasOwnProperty("ontouchstart")?(n.addEventListener("touchstart",function(n){n.preventDefault(),1===n.touches.length?h(n.touches[0]):v()}),n.addEventListener("touchmove",function(n){n.preventDefault(),1===i?m(n.touches[0]):v()}),n.addEventListener("touchend",function(n){n.preventDefault(),1===i?E():v()}),n.addEventListener("touchcancel",function(){v()})):(n.addEventListener("mousedown",function(n){n.preventDefault(),h(n)}),n.addEventListener("mousemove",function(n){n.preventDefault(),m(n)}),n.addEventListener("mouseup",function(n){n.preventDefault(),E()}))},D=function(n){o!==t.NONE&&(o===t.TOUCHING?(g(n),r.frameFunc(u)):o===t.END?(r.end.preHook(),l(),N(),r.frameFunc(u),r.end.postHook(r.ctx),N(),r.frameFunc(u)):o===t.CANCEL&&(N(),r.frameFunc(u)))},T=function(){r.ctx={dir:null,dist:null,swiped:!1},r.init||(r.init={}),"function"==typeof r.init&&(r.init.func=r.init),r.init.func=f(r.init.func),r.init.fps||(r.init.fps=30),r.target||(r.target=document.getElementsByTagName("body")[0]),o=null!=r.init.phase?r.init.phase:t.NONE,r.frameFunc=f(r.frameFunc),r.frameMonitor=f(r.frameMonitor),r.end||(r.end={}),r.end.neutral=f(r.end.neutral),r.end.up=f(r.end.up),r.end.down=f(r.end.down),r.end.left=f(r.end.left),r.end.right=f(r.end.right),r.end.preHook=f(r.end.preHook),r.end.postHook=f(r.end.postHook),r.progress||(r.progress={}),r.progress.neutral=f(r.progress.neutral),r.progress.up=f(r.progress.up),r.progress.down=f(r.progress.down),r.progress.left=f(r.progress.left),r.progress.right=f(r.progress.right)},w=function(n){return r=n,T(),H(r.target),r.init.func(),N(),r.frameFunc(u),window.mainloop({fps:r.init.fps,frameFunc:D,frameMonitor:r.frameMonitor}).run()};return w.PHASE=t,w.DIRECTION=n,w.SWIPE=e,w}();