this.mainloop=this.exports=function(n){"use strict";var e=function(){},t=function(){return+new Date},o=!1,r={run:function(){return o||(o=!0,h()),this},stop:function(){return null!=s&&(n.clearInterval(s),s=null),o=!1,this},reset:function(){E({count:0,frameFunc:e,fpt:c}),v(),this.stop()},isRunning:function(){return o}},u=null,i=e,s=null,a=0,c=30,f=1e3/c,p=[0,0,0,0,0,0,0,0,0,0],d=0,l=0,h=function(){d=t(),p.shift(),p.push(d-l),l=d,i(a++),o&&(s=n.setTimeout(h,f-(d-t())))},g=function(n){"function"==typeof n&&(i=n)},m=function(e){"function"==typeof e&&(v(),u=n.setInterval(function(){for(var n=0,t=0,o=p.length;o>n;n++)t+=p[n];e(Math.round(1e3*o/t),p,a)},100))},v=function(){null!=u&&(n.clearInterval(u),u=null)},E=function(n){return n||(n={}),a=n.count instanceof Number?n.count:a,c=n.fps||c,f=1e3/c,d=t(),l=d-c,g(n.frameFunc),m(n.frameMonitor),r};return E.removeFrameMonitor=v,Object.keys(r).forEach(function(n){E[n]=function(){r[n]()}}),E}(this),this.swipe4=this.exports=function(n){"use strict";var e={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},o={NONE:0,TOUCHING:1,END:2,CANCEL:3},r=function(){},u=function(n){return"function"==typeof n?n:r},i=null,s=null,a=0,c=null,f=null,p=function(){var n=c.pageX-f.pageX,e=c.pageY-f.pageY;return Math.max(Math.abs(n),Math.abs(e))},d=function(){var n=Math.atan2(c.pageY-f.pageY,c.pageX-f.pageX);return(Math.floor(180*n/Math.PI)+360)%360},l=function(){var n=d();return 45>n||n>=315?e.RIGHT:n>=45&&135>n?e.DOWN:n>=135&&225>n?e.LEFT:e.UP},h=function(){var n=i.ctx.dist=p();if(t.THRESHOLD>n)return i.ctx.swiped=!1,i.end.neutral(),void 0;i.ctx.swiped=!0;var o=i.ctx.dir=l();o===e.UP?i.end.up():o===e.RIGHT?i.end.right():o===e.DOWN?i.end.down():o===e.LEFT&&i.end.left()},g=function(n){if(0===n%10){var o=i.ctx.dist=p();if(t.THRESHOLD>o)return i.progress.neutral(),void 0;var r=i.ctx.dir=l();r===e.UP?i.progress.up():r===e.RIGHT?i.progress.right():r===e.DOWN?i.progress.down():r===e.LEFT&&i.progress.left()}},m=function(n){f={pageX:n.pageX,pageY:n.pageY},c=n,s=o.TOUCHING,a=1},v=function(n){c=n},E=function(){s=o.END},N=function(){s=o.CANCEL},D=function(){s=o.NONE,c={pageX:0,pageY:0},a=0},H=function(){i.handlers={touchStart:function(n){n.preventDefault(),1===n.touches.length?m(n.touches[0]):N()},touchMove:function(n){n.preventDefault(),1===a?v(n.touches[0]):N()},touchEnd:function(n){n.preventDefault(),1===a?E():N()},touchCancel:function(n){n.preventDefault(),N()},mouseDown:function(n){n.preventDefault(),m(n)},mouseMove:function(n){n.preventDefault(),v(n)},mouseUp:function(n){n.preventDefault(),E()}}},L=function(e){H(),n.document.documentElement.hasOwnProperty("ontouchstart")?(e.addEventListener("touchstart",i.handlers.touchStart),e.addEventListener("touchmove",i.handlers.touchMove),e.addEventListener("touchend",i.handlers.touchEnd),e.addEventListener("touchcancel",i.handlers.touchCancel)):(e.addEventListener("mousedown",i.handlers.mouseDown),e.addEventListener("mousemove",i.handlers.mouseMove),e.addEventListener("mouseup",i.handlers.mouseUp))},O=function(n){s!==o.NONE&&(s===o.TOUCHING?(g(n),i.frameFunc(c)):s===o.END?(i.end.preHook(),h(),D(),i.frameFunc(c),i.end.postHook(i.ctx),D(),i.frameFunc(c)):s===o.CANCEL&&(D(),i.frameFunc(c)))},T=function(e){e.ctx={dir:null,dist:null,swiped:!1},e.init||(e.init={}),"function"==typeof e.init&&(e.init.func=e.init),e.init.func=u(e.init.func),e.init.fps||(e.init.fps=30),e.target||(e.target=n.document.body),s=null!=e.init.phase?e.init.phase:o.NONE,e.frameFunc=u(e.frameFunc),e.frameMonitor=u(e.frameMonitor),e.end||(e.end={}),e.end.neutral=u(e.end.neutral),e.end.up=u(e.end.up),e.end.down=u(e.end.down),e.end.left=u(e.end.left),e.end.right=u(e.end.right),e.end.preHook=u(e.end.preHook),e.end.postHook=u(e.end.postHook),e.progress||(e.progress={}),e.progress.neutral=u(e.progress.neutral),e.progress.up=u(e.progress.up),e.progress.down=u(e.progress.down),e.progress.left=u(e.progress.left),e.progress.right=u(e.progress.right)},M=function(e){return e||(e={}),i=e,T(i),L(i.target),i.init.func(),D(),i.frameFunc(c),i.mainloop=n.mainloop({fps:i.init.fps,frameFunc:O,frameMonitor:i.frameMonitor}).run(),i.mainloop};return M.reset=function(){n.mainloop.reset()},M.PHASE=o,M.DIRECTION=e,M.SWIPE=t,M}(this);