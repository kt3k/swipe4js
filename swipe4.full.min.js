this.mainloop=this.exports=function(){var n=function(){},e=function(e){var t="number"==typeof e.count?e.count:0,r=e.fps||30,o=1e3/r,i=!1,u=[r,r,r,r,r,r,r,r,r,r],a=(new Date).getTime(),s=a-r,f="function"==typeof e.frameFunc?e.frameFunc:n,p="function"==typeof e.frameMonitor?e.frameMonitor:n,c=function(){a=(new Date).getTime(),u.shift(),u.push(a-s),s=a,f(t++),i&&setTimeout(c,o-(a-(new Date).getTime()))};return setInterval(function(){for(var n=0,e=0,t=u.length;t>n;n++)e+=u[n];p(Math.round(1e3*t/e))},100),{run:function(){return i||(i=!0,c()),this},stop:function(){return i=!1,this}}};return e}(),this.swipe4=this.exports=function(){var n={UP:0,DOWN:1,RIGHT:2,LEFT:3},e={THRESHOLD:3},t={NONE:0,TOUCHING:1,END:2,CANCEL:3},r=function(){},o=function(n){return"function"==typeof n?n:r},i=null,u=null,a=0,s=null,f=null,p=function(){var n=s.pageX-f.pageX,e=s.pageY-f.pageY;return Math.max(Math.abs(n),Math.abs(e))},c=function(){var n=Math.atan2(s.pageY-f.pageY,s.pageX-f.pageX);return(Math.floor(180*n/Math.PI)+360)%360},d=function(){var e=c();return 45>e||e>=315?n.RIGHT:e>=45&&135>e?n.DOWN:e>=135&&225>e?n.LEFT:n.UP},l=function(){var t=i.ctx.dist=p();if(e.THRESHOLD>t)return i.ctx.swiped=!1,i.end.neutral(),void 0;i.ctx.swiped=!0;var r=i.ctx.dir=d();r===n.UP?i.end.up():r===n.RIGHT?i.end.right():r===n.DOWN?i.end.down():r===n.LEFT&&i.end.left()},g=function(t){if(0===t%10){var r=i.ctx.dist=p();if(e.THRESHOLD>r)return i.progress.neutral(),void 0;var o=i.ctx.dir=d();o===n.UP?i.progress.up():o===n.RIGHT?i.progress.right():o===n.DOWN?i.progress.down():o===n.LEFT&&i.progress.left()}},h=function(n){f={pageX:n.pageX,pageY:n.pageY,layerX:n.layerX,layerY:n.layerY},s=n,u=t.TOUCHING,count=0,a=1},m=function(n){s=n},E=function(){u=t.END},v=function(){u=t.CANCEL},N=function(){u=t.NONE,s={pageX:0,pageY:0,layerX:0,layerY:0},a=0},H=function(n){window.document.documentElement.hasOwnProperty("ontouchstart")?(n.addEventListener("touchstart",function(n){n.preventDefault(),1===n.touches.length?h(n.touches[0]):v()}),n.addEventListener("touchmove",function(n){n.preventDefault(),1===a?m(n.touches[0]):v()}),n.addEventListener("touchend",function(n){n.preventDefault(),1===a?E():v()}),n.addEventListener("touchcancel",function(){v()})):(n.addEventListener("mousedown",function(n){n.preventDefault(),h(n)}),n.addEventListener("mousemove",function(n){n.preventDefault(),m(n)}),n.addEventListener("mouseup",function(n){n.preventDefault(),E()}))},D=function(n){u!==t.NONE&&(u===t.TOUCHING?(g(n),i.frameFunc(s)):u===t.END?(i.end.preHook(),l(),N(),i.frameFunc(s),i.end.postHook(i.ctx),N(),i.frameFunc(s)):u===t.CANCEL&&(N(),i.frameFunc(s)))},T=function(n){n.ctx={dir:null,dist:null,swiped:!1},n.init||(n.init={}),"function"==typeof n.init&&(n.init.func=n.init),n.init.func=o(n.init.func),n.init.fps||(n.init.fps=30),n.target||(n.target=document.getElementsByTagName("body")[0]),u=null!=n.init.phase?n.init.phase:t.NONE,n.frameFunc=o(n.frameFunc),n.frameMonitor=o(n.frameMonitor),n.end||(n.end={}),n.end.neutral=o(n.end.neutral),n.end.up=o(n.end.up),n.end.down=o(n.end.down),n.end.left=o(n.end.left),n.end.right=o(n.end.right),n.end.preHook=o(n.end.preHook),n.end.postHook=o(n.end.postHook),n.progress||(n.progress={}),n.progress.neutral=o(n.progress.neutral),n.progress.up=o(n.progress.up),n.progress.down=o(n.progress.down),n.progress.left=o(n.progress.left),n.progress.right=o(n.progress.right)},w=function(n){return null!=n?(i=n,T(i),H(i.target),i.init.func(),N(),i.frameFunc(s),window.mainloop({fps:i.init.fps,frameFunc:D,frameMonitor:i.frameMonitor}).run()):void 0};return w.PHASE=t,w.DIRECTION=n,w.SWIPE=e,w}();