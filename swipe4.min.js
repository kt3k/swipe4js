this.swipe4=this.exports=function(e){"use strict";var n={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},r={NONE:0,TOUCHING:1,END:2,CANCEL:3},o=function(){},i=function(e){return"function"==typeof e?e:o},u=null,a=null,s=0,p=null,f=null,d=function(){var e=p.pageX-f.pageX,n=p.pageY-f.pageY;return Math.max(Math.abs(e),Math.abs(n))},c=function(){var e=Math.atan2(p.pageY-f.pageY,p.pageX-f.pageX);return(Math.floor(180*e/Math.PI)+360)%360},l=function(){var e=c();return 45>e||e>=315?n.RIGHT:e>=45&&135>e?n.DOWN:e>=135&&225>e?n.LEFT:n.UP},g=function(){var e=u.ctx.dist=d();if(t.THRESHOLD>e)return u.ctx.swiped=!1,u.end.neutral(),void 0;u.ctx.swiped=!0;var r=u.ctx.dir=l();r===n.UP?u.end.up():r===n.RIGHT?u.end.right():r===n.DOWN?u.end.down():r===n.LEFT&&u.end.left()},E=function(e){if(0===e%10){var r=u.ctx.dist=d();if(t.THRESHOLD>r)return u.progress.neutral(),void 0;var o=u.ctx.dir=l();o===n.UP?u.progress.up():o===n.RIGHT?u.progress.right():o===n.DOWN?u.progress.down():o===n.LEFT&&u.progress.left()}},h=function(e){f={pageX:e.pageX,pageY:e.pageY,layerX:e.layerX,layerY:e.layerY},p=e,a=r.TOUCHING,s=1},m=function(e){p=e},v=function(){a=r.END},N=function(){a=r.CANCEL},H=function(){a=r.NONE,p={pageX:0,pageY:0,layerX:0,layerY:0},s=0},D=function(n){e.document.documentElement.hasOwnProperty("ontouchstart")?(n.addEventListener("touchstart",function(e){e.preventDefault(),1===e.touches.length?h(e.touches[0]):N()}),n.addEventListener("touchmove",function(e){e.preventDefault(),1===s?m(e.touches[0]):N()}),n.addEventListener("touchend",function(e){e.preventDefault(),1===s?v():N()}),n.addEventListener("touchcancel",function(){N()})):(n.addEventListener("mousedown",function(e){e.preventDefault(),h(e)}),n.addEventListener("mousemove",function(e){e.preventDefault(),m(e)}),n.addEventListener("mouseup",function(e){e.preventDefault(),v()}))},L=function(e){a!==r.NONE&&(a===r.TOUCHING?(E(e),u.frameFunc(p)):a===r.END?(u.end.preHook(),g(),H(),u.frameFunc(p),u.end.postHook(u.ctx),H(),u.frameFunc(p)):a===r.CANCEL&&(H(),u.frameFunc(p)))},O=function(n){n.ctx={dir:null,dist:null,swiped:!1},n.init||(n.init={}),"function"==typeof n.init&&(n.init.func=n.init),n.init.func=i(n.init.func),n.init.fps||(n.init.fps=30),n.target||(n.target=e.document.getElementsByTagName("body")[0]),a=null!=n.init.phase?n.init.phase:r.NONE,n.frameFunc=i(n.frameFunc),n.frameMonitor=i(n.frameMonitor),n.end||(n.end={}),n.end.neutral=i(n.end.neutral),n.end.up=i(n.end.up),n.end.down=i(n.end.down),n.end.left=i(n.end.left),n.end.right=i(n.end.right),n.end.preHook=i(n.end.preHook),n.end.postHook=i(n.end.postHook),n.progress||(n.progress={}),n.progress.neutral=i(n.progress.neutral),n.progress.up=i(n.progress.up),n.progress.down=i(n.progress.down),n.progress.left=i(n.progress.left),n.progress.right=i(n.progress.right)},T=function(n){return null!=n?(u=n,O(u),D(u.target),u.init.func(),H(),u.frameFunc(p),u.mainloop=e.mainloop({fps:u.init.fps,frameFunc:L,frameMonitor:u.frameMonitor}).run(),u.mainloop):void 0};return T.PHASE=r,T.DIRECTION=n,T.SWIPE=t,T}(this);