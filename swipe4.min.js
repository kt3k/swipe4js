this.swipe4=this.exports=function(n){"use strict";var e={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},o={NONE:0,TOUCHING:1,END:2,CANCEL:3},r=function(){},u=function(n){return"function"==typeof n?n:r},i=null,a=null,s=0,c=null,p=null,d=function(){var n=c.pageX-p.pageX,e=c.pageY-p.pageY;return Math.max(Math.abs(n),Math.abs(e))},f=function(){var n=Math.atan2(c.pageY-p.pageY,c.pageX-p.pageX);return(Math.floor(180*n/Math.PI)+360)%360},l=function(){var n=f();return 45>n||n>=315?e.RIGHT:n>=45&&135>n?e.DOWN:n>=135&&225>n?e.LEFT:e.UP},h=function(){var n=i.ctx.dist=d();if(t.THRESHOLD>n)return i.ctx.swiped=!1,i.end.neutral(),void 0;i.ctx.swiped=!0;var o=i.ctx.dir=l();o===e.UP?i.end.up():o===e.RIGHT?i.end.right():o===e.DOWN?i.end.down():o===e.LEFT&&i.end.left()},g=function(n){if(0===n%10){var o=i.ctx.dist=d();if(t.THRESHOLD>o)return i.progress.neutral(),void 0;var r=i.ctx.dir=l();r===e.UP?i.progress.up():r===e.RIGHT?i.progress.right():r===e.DOWN?i.progress.down():r===e.LEFT&&i.progress.left()}},m=function(n){p={pageX:n.pageX,pageY:n.pageY},c=n,a=o.TOUCHING,s=1},v=function(n){c=n},E=function(){a=o.END},N=function(){a=o.CANCEL},D=function(){a=o.NONE,c={pageX:0,pageY:0},s=0},H=function(){i.handlers={touchStart:function(n){n.preventDefault(),1===n.touches.length?m(n.touches[0]):N()},touchMove:function(n){n.preventDefault(),1===s?v(n.touches[0]):N()},touchEnd:function(n){n.preventDefault(),1===s?E():N()},touchCancel:function(n){n.preventDefault(),N()},mouseDown:function(n){n.preventDefault(),m(n)},mouseMove:function(n){n.preventDefault(),v(n)},mouseUp:function(n){n.preventDefault(),E()}}},L=function(e){H(),n.document.documentElement.hasOwnProperty("ontouchstart")?(e.addEventListener("touchstart",i.handlers.touchStart),e.addEventListener("touchmove",i.handlers.touchMove),e.addEventListener("touchend",i.handlers.touchEnd),e.addEventListener("touchcancel",i.handlers.touchCancel)):(e.addEventListener("mousedown",i.handlers.mouseDown),e.addEventListener("mousemove",i.handlers.mouseMove),e.addEventListener("mouseup",i.handlers.mouseUp))},O=function(n){a!==o.NONE&&(a===o.TOUCHING?(g(n),i.frameFunc(c)):a===o.END?(i.end.preHook(),h(),D(),i.frameFunc(c),i.end.postHook(i.ctx),D(),i.frameFunc(c)):a===o.CANCEL&&(D(),i.frameFunc(c)))},T=function(e){e.ctx={dir:null,dist:null,swiped:!1},e.init||(e.init={}),"function"==typeof e.init&&(e.init.func=e.init),e.init.func=u(e.init.func),e.init.fps||(e.init.fps=30),e.target||(e.target=n.document.body),a=null!=e.init.phase?e.init.phase:o.NONE,e.frameFunc=u(e.frameFunc),e.frameMonitor=u(e.frameMonitor),e.end||(e.end={}),e.end.neutral=u(e.end.neutral),e.end.up=u(e.end.up),e.end.down=u(e.end.down),e.end.left=u(e.end.left),e.end.right=u(e.end.right),e.end.preHook=u(e.end.preHook),e.end.postHook=u(e.end.postHook),e.progress||(e.progress={}),e.progress.neutral=u(e.progress.neutral),e.progress.up=u(e.progress.up),e.progress.down=u(e.progress.down),e.progress.left=u(e.progress.left),e.progress.right=u(e.progress.right)},w=function(e){return e||(e={}),i=e,T(i),L(i.target),i.init.func(),D(),i.frameFunc(c),i.mainloop=n.mainloop({fps:i.init.fps,frameFunc:O,frameMonitor:i.frameMonitor}).run(),i.mainloop};return w.reset=function(){n.mainloop.reset()},w.PHASE=o,w.DIRECTION=e,w.SWIPE=t,w}(this);