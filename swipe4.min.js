this.swipe4=this.exports=function(n){"use strict";var e={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},r={NONE:0,TOUCHING:1,END:2,CANCEL:3},o=function(){},i=function(n){return"function"==typeof n?n:o},u=null,a=null,s=0,p=null,f=null,c=function(){var n=p.pageX-f.pageX,e=p.pageY-f.pageY;return Math.max(Math.abs(n),Math.abs(e))},d=function(){var n=Math.atan2(p.pageY-f.pageY,p.pageX-f.pageX);return(Math.floor(180*n/Math.PI)+360)%360},g=function(){var n=d();return 45>n||n>=315?e.RIGHT:n>=45&&135>n?e.DOWN:n>=135&&225>n?e.LEFT:e.UP},l=function(){var n=u.ctx.dist=c();if(t.THRESHOLD>n)return u.ctx.swiped=!1,u.end.neutral(),void 0;u.ctx.swiped=!0;var r=u.ctx.dir=g();r===e.UP?u.end.up():r===e.RIGHT?u.end.right():r===e.DOWN?u.end.down():r===e.LEFT&&u.end.left()},E=function(n){if(0===n%10){var r=u.ctx.dist=c();if(t.THRESHOLD>r)return u.progress.neutral(),void 0;var o=u.ctx.dir=g();o===e.UP?u.progress.up():o===e.RIGHT?u.progress.right():o===e.DOWN?u.progress.down():o===e.LEFT&&u.progress.left()}},h=function(n){f={pageX:n.pageX,pageY:n.pageY},p=n,a=r.TOUCHING,s=1},v=function(n){p=n},m=function(){a=r.END},N=function(){a=r.CANCEL},H=function(){a=r.NONE,p={pageX:0,pageY:0},s=0},D=function(e){n.document.documentElement.hasOwnProperty("ontouchstart")?(e.addEventListener("touchstart",function(n){n.preventDefault(),1===n.touches.length?h(n.touches[0]):N()}),e.addEventListener("touchmove",function(n){n.preventDefault(),1===s?v(n.touches[0]):N()}),e.addEventListener("touchend",function(n){n.preventDefault(),1===s?m():N()}),e.addEventListener("touchcancel",function(n){n.preventDefault(),N()})):(e.addEventListener("mousedown",function(n){n.preventDefault(),h(n)}),e.addEventListener("mousemove",function(n){n.preventDefault(),v(n)}),e.addEventListener("mouseup",function(n){n.preventDefault(),m()}))},L=function(n){a!==r.NONE&&(a===r.TOUCHING?(E(n),u.frameFunc(p)):a===r.END?(u.end.preHook(),l(),H(),u.frameFunc(p),u.end.postHook(u.ctx),H(),u.frameFunc(p)):a===r.CANCEL&&(H(),u.frameFunc(p)))},O=function(e){e.ctx={dir:null,dist:null,swiped:!1},e.init||(e.init={}),"function"==typeof e.init&&(e.init.func=e.init),e.init.func=i(e.init.func),e.init.fps||(e.init.fps=30),e.target||(e.target=n.document.body),a=null!=e.init.phase?e.init.phase:r.NONE,e.frameFunc=i(e.frameFunc),e.frameMonitor=i(e.frameMonitor),e.end||(e.end={}),e.end.neutral=i(e.end.neutral),e.end.up=i(e.end.up),e.end.down=i(e.end.down),e.end.left=i(e.end.left),e.end.right=i(e.end.right),e.end.preHook=i(e.end.preHook),e.end.postHook=i(e.end.postHook),e.progress||(e.progress={}),e.progress.neutral=i(e.progress.neutral),e.progress.up=i(e.progress.up),e.progress.down=i(e.progress.down),e.progress.left=i(e.progress.left),e.progress.right=i(e.progress.right)},T=function(e){return e||(e={}),u=e,O(u),D(u.target),u.init.func(),H(),u.frameFunc(p),u.mainloop=n.mainloop({fps:u.init.fps,frameFunc:L,frameMonitor:u.frameMonitor}).run(),u.mainloop};return T.PHASE=r,T.DIRECTION=e,T.SWIPE=t,T}(this);