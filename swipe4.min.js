this.swipe4=this.exports=function(e){"use strict";var n={UP:0,DOWN:1,RIGHT:2,LEFT:3},t={THRESHOLD:3},o={NONE:0,TOUCHING:1,END:2,CANCEL:3},r=function(){},u=function(e){return"function"==typeof e?e:r},s=null,a=null,i=0,c=null,d=null,p=function(){var e=c.pageX-d.pageX,n=c.pageY-d.pageY;return Math.max(Math.abs(e),Math.abs(n))},f=function(){var e=Math.atan2(c.pageY-d.pageY,c.pageX-d.pageX);return(Math.floor(180*e/Math.PI)+360)%360},l=function(){var e=f();return 45>e||e>=315?n.RIGHT:e>=45&&135>e?n.DOWN:e>=135&&225>e?n.LEFT:n.UP},h=function(){var e=s.ctx.dist=p();if(t.THRESHOLD>e)return s.ctx.swiped=!1,s.end.neutral(),void 0;s.ctx.swiped=!0;var o=s.ctx.dir=l();o===n.UP?s.end.up():o===n.RIGHT?s.end.right():o===n.DOWN?s.end.down():o===n.LEFT&&s.end.left()},m=function(e){if(0===e%10){var o=s.ctx.dist=p();if(t.THRESHOLD>o)return s.progress.neutral(),void 0;var r=s.ctx.dir=l();r===n.UP?s.progress.up():r===n.RIGHT?s.progress.right():r===n.DOWN?s.progress.down():r===n.LEFT&&s.progress.left()}},v=function(e){d={pageX:e.pageX,pageY:e.pageY},c=e,a=o.TOUCHING,i=1},g=function(e){c=e},E=function(){a=o.END},L=function(){a=o.CANCEL},N=function(){a=o.NONE,c={pageX:0,pageY:0},i=0},D=function(){s.handlers={touchStart:function(e){e.preventDefault(),1===e.touches.length?v(e.touches[0]):L()},touchMove:function(e){e.preventDefault(),1===i?g(e.touches[0]):L()},touchEnd:function(e){e.preventDefault(),1===i?E():L()},touchCancel:function(e){e.preventDefault(),L()},mouseDown:function(e){e.preventDefault(),v(e)},mouseMove:function(e){e.preventDefault(),g(e)},mouseUp:function(e){e.preventDefault(),E()}}},H=function(){var n=s.target;D(),e.document.documentElement.hasOwnProperty("ontouchstart")?(n.addEventListener("touchstart",s.handlers.touchStart,!1),n.addEventListener("touchmove",s.handlers.touchMove,!1),n.addEventListener("touchend",s.handlers.touchEnd,!1),n.addEventListener("touchcancel",s.handlers.touchCancel,!1)):(n.addEventListener("mousedown",s.handlers.mouseDown,!1),n.addEventListener("mousemove",s.handlers.mouseMove,!1),n.addEventListener("mouseup",s.handlers.mouseUp,!1))},w=function(){var n=s.target;e.document.documentElement.hasOwnProperty("ontouchstart")?(n.removeEventListener("touchstart",s.handlers.touchStart,!1),n.removeEventListener("touchmove",s.handlers.touchMove,!1),n.removeEventListener("touchend",s.handlers.touchEnd,!1),n.removeEventListener("touchcancel",s.handlers.touchCancel,!1)):(n.removeEventListener("mousedown",s.handlers.mouseDown,!1),n.removeEventListener("mousemove",s.handlers.mouseMove,!1),n.removeEventListener("mouseup",s.handlers.mouseUp,!1))},O=function(e){a!==o.NONE&&(a===o.TOUCHING?(m(e),s.frameFunc(c)):a===o.END?(s.end.preHook(),h(),N(),s.frameFunc(c),s.end.postHook(s.ctx),N(),s.frameFunc(c)):a===o.CANCEL&&(N(),s.frameFunc(c)))},M=function(n){n.ctx={dir:null,dist:null,swiped:!1},n.init||(n.init={}),"function"==typeof n.init&&(n.init.func=n.init),n.init.func=u(n.init.func),n.init.fps||(n.init.fps=30),n.target||(n.target=e.document.body),a=null!=n.init.phase?n.init.phase:o.NONE,n.frameFunc=u(n.frameFunc),n.frameMonitor=u(n.frameMonitor),n.end||(n.end={}),n.end.neutral=u(n.end.neutral),n.end.up=u(n.end.up),n.end.down=u(n.end.down),n.end.left=u(n.end.left),n.end.right=u(n.end.right),n.end.preHook=u(n.end.preHook),n.end.postHook=u(n.end.postHook),n.progress||(n.progress={}),n.progress.neutral=u(n.progress.neutral),n.progress.up=u(n.progress.up),n.progress.down=u(n.progress.down),n.progress.left=u(n.progress.left),n.progress.right=u(n.progress.right)},T=function(n){return n||(n={}),s=n,M(s),H(),s.init.func(),N(),s.frameFunc(c),s.mainloop=e.mainloop({fps:s.init.fps,frameFunc:O,frameMonitor:s.frameMonitor}).run(),s.mainloop};return T.reset=function(){e.mainloop.reset(),w()},T.PHASE=o,T.DIRECTION=n,T.SWIPE=t,T}(this);